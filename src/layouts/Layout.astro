---
import '../styles/global.css'

type Props = {
  title: string;
  description: string;
  canonical?: string;
}

const { title, description, canonical } = Astro.props;
const siteUrl = 'https://autoclave.growtopia.tools';
const canonicalUrl = canonical || new URL(Astro.url.pathname, siteUrl).toString();
const currentPath = Astro.url.pathname;
--- 

<!doctype html>
<html lang="id">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="generator" content={Astro.generator} />
		
		<!-- SEO Meta Tags -->
		<title>{title}</title>
		<meta name="description" content={description} />
		<link rel="canonical" href={canonicalUrl} />
		
		<!-- Open Graph -->
		<meta property="og:type" content="website" />
		<meta property="og:title" content={title} />
		<meta property="og:description" content={description} />
		<meta property="og:url" content={canonicalUrl} />
		<meta property="og:site_name" content="Growtopia Autoclave Calculator" />
		
		<!-- Twitter Card -->
		<meta name="twitter:card" content="summary" />
		<meta name="twitter:title" content={title} />
		<meta name="twitter:description" content={description} />
		
		<!-- Additional SEO -->
		<meta name="robots" content="index, follow" />
		<meta name="theme-color" content="#1f2937" />
		<meta name="keywords" content="growtopia, autoclave, calculator, surgical tools, world lock, wl, gt" />
	</head>
	<body class="min-h-screen bg-gray-950 text-white">
		<!-- Navigation -->
		<nav class="sticky top-0 z-50 bg-gray-900/95 backdrop-blur-lg border-b border-gray-800">
			<div class="max-w-4xl mx-auto px-3 sm:px-4">
				<div class="flex items-center justify-between h-14 sm:h-16">
					<!-- Logo -->
					<a href="/" class="flex items-center gap-1.5 sm:gap-2 text-amber-400 font-bold text-sm sm:text-lg hover:text-amber-300 transition-colors">
						<span>üî¨</span>
						<span class="hidden xs:inline">Autoclave</span>
						<span class="xs:hidden">AC</span>
					</a>
					
					<!-- Desktop Navigation -->
					<div class="hidden sm:flex items-center gap-1">
						<a 
							href="/" 
							class:list={[
								"px-3 py-2 rounded-lg text-sm font-medium transition-colors",
								currentPath === "/" ? "bg-amber-500/10 text-amber-400" : "text-gray-400 hover:text-white hover:bg-gray-800"
							]}
						>
							Home
						</a>
						<a 
							href="/autoclave" 
							class:list={[
								"px-3 py-2 rounded-lg text-sm font-medium transition-colors",
								currentPath === "/autoclave" ? "bg-amber-500/10 text-amber-400" : "text-gray-400 hover:text-white hover:bg-gray-800"
							]}
						>
							Calculator
						</a>
						<a 
							href="/about" 
							class:list={[
								"px-3 py-2 rounded-lg text-sm font-medium transition-colors",
								currentPath === "/about" ? "bg-amber-500/10 text-amber-400" : "text-gray-400 hover:text-white hover:bg-gray-800"
							]}
						>
							About
						</a>
					</div>
					
					<!-- Mobile Navigation -->
					<div class="flex sm:hidden items-center gap-1">
						<a 
							href="/" 
							class:list={[
								"p-2 rounded-lg text-xs font-medium transition-colors",
								currentPath === "/" ? "bg-amber-500/20 text-amber-400" : "text-gray-400 hover:text-white"
							]}
						>
							üè†
						</a>
						<a 
							href="/autoclave" 
							class:list={[
								"p-2 rounded-lg text-xs font-medium transition-colors",
								currentPath === "/autoclave" ? "bg-amber-500/20 text-amber-400" : "text-gray-400 hover:text-white"
							]}
						>
							üßÆ
						</a>
						<a 
							href="/about" 
							class:list={[
								"p-2 rounded-lg text-xs font-medium transition-colors",
								currentPath === "/about" ? "bg-amber-500/20 text-amber-400" : "text-gray-400 hover:text-white"
							]}
						>
							‚ÑπÔ∏è
						</a>
					</div>
				</div>
			</div>
		</nav>
		
		<!-- Main Content -->
		<main class="max-w-4xl mx-auto px-2 sm:px-4 py-4 sm:py-8">
			<slot />
		</main>
		
		<!-- Footer -->
		<footer class="bg-gray-900 border-t border-gray-800 mt-auto">
			<div class="max-w-4xl mx-auto px-3 sm:px-4 py-4 sm:py-6 text-center text-gray-500 text-xs sm:text-sm">
				<p>Growtopia Autoclave Calculator</p>
				<p class="mt-1 text-gray-600">Data tersimpan lokal di browser Anda</p>
			</div>
		</footer>
	</body>
</html>

<style>
	html,
	body {
		margin: 0;
		width: 100%;
		min-height: 100%;
	}
	
	body {
		display: flex;
		flex-direction: column;
	}
	
	main {
		flex: 1;
	}
	
	/* Custom breakpoint for extra small screens */
	@media (min-width: 360px) {
		.xs\:inline {
			display: inline;
		}
		.xs\:hidden {
			display: none;
		}
	}
	
	@media (max-width: 359px) {
		.hidden.xs\:inline {
			display: none;
		}
		.xs\:hidden {
			display: inline;
		}
	}
</style>
